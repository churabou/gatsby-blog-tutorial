{"componentChunkName":"component---src-templates-post-js","path":"/d5c45d42-e216-507c-bca5-9f8080b07ed0","result":{"data":{"markdownRemark":{"id":"d5c45d42-e216-507c-bca5-9f8080b07ed0","html":"<p>serverless-dynamodb-localを使うとローカルでサクッとdynamodbが起動して便利なのですが、</p>\n<p>ただバックグラウンドで起動するオプションが無いのでTestのときCIで動かしたかったので少し調べたメモ。</p>\n<h3>serverless-dynamodb-local</h3>\n<p><a href=\"https://serverless.com/plugins/serverless-dynamodb-local/\">https://serverless.com/plugins/serverless-dynamodb-local/</a></p>\n<p>ソースを見てみると本当に1000行くらいでシンプル。</p>\n<ul>\n<li><a href=\"https://github.com/99xt/serverless-dynamodb-local/blob/v1/index.js#L38\">https://github.com/99xt/serverless-dynamodb-local/blob/v1/index.js#L38</a></li>\n</ul>\n<p>プラグインなのでお作法に載ってコマンド名＋呼び出したいメソッドを書いているんだなと言う感じ。</p>\n<p>実際プラグインの作り方をみるとほぼテンプレ通りな感じ。</p>\n<p><a href=\"https://serverless.com/blog/writing-serverless-plugins/\">https://serverless.com/blog/writing-serverless-plugins/</a></p>\n<h3>dynamodb-localhost</h3>\n<p>serverless-dynamodb-localのstartHandlerのなかでdynamodb-localhostを呼んでいる。</p>\n<p>これもかなりゆるく作られているので。</p>\n<p><a href=\"https://github.com/99xt/dynamodb-localhost/blob/master/dynamodb/starter.js\">https://github.com/99xt/dynamodb-localhost/blob/master/dynamodb/starter.js</a></p>\n<h3>node child-process</h3>\n<p>nodejsでコマンドを実行できる。lsとか。\njavaコマンドを実行ている。</p>\n<p><a href=\"https://github.com/99xt/dynamodb-localhost/blob/master/dynamodb/starter.js#L45\">https://github.com/99xt/dynamodb-localhost/blob/master/dynamodb/starter.js#L45</a></p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.UsageNotes.html\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.UsageNotes.html</a></p>\n<h3>全体的な動きとしては</h3>\n<p>serverless が　serverless-dynamodb-localのメソッドを呼ぶ。</p>\n<p>serverless-dynamodb-localはdynamodb-localhostを呼ぶ。</p>\n<p>dynamodb-localhostはawsのsdkを起動する。その時javaコマンドを内部で実行している。</p>","frontmatter":{"title":"Serverless DynamoDB Local についてのメモ","tags":["DynamoDB","serverless","ServerlessFramework"],"date":"2020年03月08日"}}},"pageContext":{"id":"d5c45d42-e216-507c-bca5-9f8080b07ed0"}}}