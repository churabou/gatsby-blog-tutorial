{"componentChunkName":"component---src-templates-post-js","path":"/ec38664c-0d20-5b52-8d06-8a4f05653905","result":{"data":{"markdownRemark":{"html":"<p><a href=\"https://qiita.com/Takeshi_Akutsu/items/dbf54df8e8a50e8ed5be\">こちら</a>の記事が古かったのでコピペで動くものを共有します。</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ViewController</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIPageViewController</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> controllers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">UIViewController</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    \n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">viewDidLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">viewDidLoad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        \n        <span class=\"token keyword\">let</span> colors<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">UIColor</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">.</span>red<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span>orange<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span>green<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span>cyan<span class=\"token punctuation\">]</span>\n        controllers <span class=\"token operator\">=</span> colors<span class=\"token punctuation\">.</span><span class=\"token builtin\">map</span> <span class=\"token punctuation\">{</span> color <span class=\"token keyword\">in</span>\n            <span class=\"token keyword\">let</span> c <span class=\"token operator\">=</span> <span class=\"token function\">UIViewController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            c<span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> color\n            <span class=\"token keyword\">return</span> c\n        <span class=\"token punctuation\">}</span>\n        \n        <span class=\"token function\">setViewControllers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>controllers<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                           direction<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>forward<span class=\"token punctuation\">,</span>\n                           animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n                           completion<span class=\"token punctuation\">:</span> <span class=\"token constant\">nil</span><span class=\"token punctuation\">)</span>\n        \n        dataSource <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">extension</span> <span class=\"token builtin\">ViewController</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIPageViewControllerDataSource</span> <span class=\"token punctuation\">{</span>\n    \n    <span class=\"token comment\">/// 右にスワイプ（戻る）した場合のメソッド</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">pageViewController</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> pageViewController<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIPageViewController</span><span class=\"token punctuation\">,</span> viewControllerBefore viewController<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIViewController</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">UIViewController</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> controllers<span class=\"token punctuation\">.</span><span class=\"token function\">firstIndex</span><span class=\"token punctuation\">(</span>of<span class=\"token punctuation\">:</span> viewController<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            index <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> controllers<span class=\"token punctuation\">[</span>index<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token constant\">nil</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token comment\">/// 左にスワイプ（進む）した場合のメソッド</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">pageViewController</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> pageViewController<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIPageViewController</span><span class=\"token punctuation\">,</span> viewControllerAfter viewController<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIViewController</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">UIViewController</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> controllers<span class=\"token punctuation\">.</span><span class=\"token function\">firstIndex</span><span class=\"token punctuation\">(</span>of<span class=\"token punctuation\">:</span> viewController<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            index <span class=\"token operator\">&lt;</span> controllers<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> controllers<span class=\"token punctuation\">[</span>index<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token constant\">nil</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function\">presentationCount</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span> pageViewController<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIPageViewController</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">Int</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> controllers<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>transitionStyleがgetterなので変更したい場合はinitで指定しないと(多分)</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">    <span class=\"token keyword\">override</span> <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>transitionStyle style<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIPageViewController</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">TransitionStyle</span><span class=\"token punctuation\">,</span> navigationOrientation<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIPageViewController</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">NavigationOrientation</span><span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">UIPageViewController</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">OptionsKey</span> <span class=\"token punctuation\">:</span> <span class=\"token builtin\">Any</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token constant\">nil</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>\n            transitionStyle<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>scroll<span class=\"token punctuation\">,</span>\n            navigationOrientation<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>horizontal<span class=\"token punctuation\">,</span>\n            options<span class=\"token punctuation\">:</span> options\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>サクッと動かしたかったけど、Storyboard使ったパクリ記事ばっかで😹</p>","frontmatter":{"title":"Swift5 UIPageViewControllerの使い方","tags":["Xcode","iOS","Swift"],"date":"2019年05月10日"}},"sameTagPosts":{"edges":[{"node":{"id":"8845f661-5548-599d-8a4e-6a5320066ede","frontmatter":{"title":"SwiftUIでTextViewを使う","tags":["iOS","Swift","SwiftUI"],"date":"2019年10月27日"}}},{"node":{"id":"c57e83f6-2e10-5f63-abfb-b78c3814e7c3","frontmatter":{"title":"SwiftUIとXcodeのPreviewでオートレイアウトをリアルタイムで確認しながら実装できて感動した","tags":["Xcode","iOS","AutoLayout","Swift","SwiftUI"],"date":"2019年10月16日"}}},{"node":{"id":"36c8d4f0-7394-5bff-b6b5-bae80a8113aa","frontmatter":{"title":"Swift5.1 dynamicMemberLookup^KeyPathを使ってSwiftにKotolinのapplyを実装する","tags":["Xcode","iOS","Kotlin","Swift"],"date":"2019年10月04日"}}},{"node":{"id":"6aa8f8fc-5836-52a8-bd46-ae56d1d4f4de","frontmatter":{"title":"SwiftでTooltipを描画する","tags":["iOS","UIKit","Swift"],"date":"2019年08月31日"}}},{"node":{"id":"fa82a31d-4690-5cb8-a507-42237d6afec2","frontmatter":{"title":"実機１台で別端末のレイアウトを確認する方法","tags":["Xcode","iOS","Swift"],"date":"2019年08月15日"}}}]}},"pageContext":{"id":"ec38664c-0d20-5b52-8d06-8a4f05653905","tags":["Xcode","iOS","Swift"]}}}