{"componentChunkName":"component---src-templates-post-js","path":"/8845f661-5548-599d-8a4e-6a5320066ede","result":{"data":{"markdownRemark":{"html":"<p>SwiftUIではUIKitのUITextViewに対応する物がありません。\nTextFieldには<a href=\"https://developer.apple.com/documentation/swiftui/textfield/3277098-linelimit\">LineLimit</a>なるプロパティーも存在して複数業の入力ができそうですが、\n2019年10月現在では、SwiftUIでT複数行入力できるViewを使うにはUITextViewをラップするしかなさそうです。</p>\n<p>ここら辺も普通のUIViewRepresentableのお作法ですが、</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">struct</span> <span class=\"token builtin\">TextView</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIViewRepresentable</span> <span class=\"token punctuation\">{</span>\n    @<span class=\"token builtin\">Binding</span> <span class=\"token keyword\">var</span> text<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function\">makeCoordinator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">Coordinator</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">Coordinator</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function\">makeUIView</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">UITextView</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> textView <span class=\"token operator\">=</span> <span class=\"token function\">UITextView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        textView<span class=\"token punctuation\">.</span>delegate <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span>coordinator\n        textView<span class=\"token punctuation\">.</span>isScrollEnabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n        textView<span class=\"token punctuation\">.</span>isEditable <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n        textView<span class=\"token punctuation\">.</span>isUserInteractionEnabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n        textView<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>green\n        <span class=\"token keyword\">return</span> textView\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function\">updateUIView</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> textView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UITextView</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        textView<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> text\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">extension</span> <span class=\"token builtin\">TextView</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Coordinator</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">NSObject</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">UITextViewDelegate</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> textView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">TextView</span>\n        \n        <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> textView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">TextView</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>textView <span class=\"token operator\">=</span> textView\n        <span class=\"token punctuation\">}</span>\n        \n        <span class=\"token keyword\">func</span> <span class=\"token function\">textView</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> textView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UITextView</span><span class=\"token punctuation\">,</span> shouldChangeTextIn range<span class=\"token punctuation\">:</span> <span class=\"token builtin\">NSRange</span><span class=\"token punctuation\">,</span> replacementText text<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">Bool</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">}</span>\n        \n        <span class=\"token keyword\">func</span> <span class=\"token function\">textViewDidChange</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> textView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UITextView</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>textView<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> textView<span class=\"token punctuation\">.</span>text\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://stackoverflow.com/questions/56471973/how-do-i-create-a-multiline-textfield-in-swiftui\">stack overflow</a></p>\n<hr>\n<p>余談: UITextViewの初期化部分をクロージャーで使う側で設定して見るのはどうなのか・・</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">struct</span> <span class=\"token builtin\">TextView</span> <span class=\"token punctuation\">{</span>\n    @<span class=\"token builtin\">Binding</span> <span class=\"token keyword\">var</span> text<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span>\n    <span class=\"token keyword\">let</span> configure<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">UITextView</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function\">makeUIView</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Context</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">UITextView</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> textView <span class=\"token operator\">=</span> <span class=\"token function\">UITextView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">configure</span><span class=\"token punctuation\">(</span>textView<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> textView\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token function\">TextView</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> textView <span class=\"token keyword\">in</span> \n    textView<span class=\"token punctuation\">.</span>isScrollEnabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    textView<span class=\"token punctuation\">.</span>isEditable <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    textView<span class=\"token punctuation\">.</span>isUserInteractionEnabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"SwiftUIでTextViewを使う","tags":["iOS","Swift","SwiftUI"],"date":"2019年10月27日"}},"sameTagPosts":{"edges":[{"node":{"id":"c57e83f6-2e10-5f63-abfb-b78c3814e7c3","frontmatter":{"title":"SwiftUIとXcodeのPreviewでオートレイアウトをリアルタイムで確認しながら実装できて感動した","tags":["Xcode","iOS","AutoLayout","Swift","SwiftUI"],"date":"2019年10月16日"}}},{"node":{"id":"36c8d4f0-7394-5bff-b6b5-bae80a8113aa","frontmatter":{"title":"Swift5.1 dynamicMemberLookup^KeyPathを使ってSwiftにKotolinのapplyを実装する","tags":["Xcode","iOS","Kotlin","Swift"],"date":"2019年10月04日"}}},{"node":{"id":"6aa8f8fc-5836-52a8-bd46-ae56d1d4f4de","frontmatter":{"title":"SwiftでTooltipを描画する","tags":["iOS","UIKit","Swift"],"date":"2019年08月31日"}}},{"node":{"id":"fa82a31d-4690-5cb8-a507-42237d6afec2","frontmatter":{"title":"実機１台で別端末のレイアウトを確認する方法","tags":["Xcode","iOS","Swift"],"date":"2019年08月15日"}}},{"node":{"id":"4ac87f61-abdb-5629-97f6-79d92e985fce","frontmatter":{"title":"Swiftで簡単なGrid Layoutを実装するためのレイアウトクラス （UIKit）","tags":["iOS","Swift"],"date":"2019年07月06日"}}}]}},"pageContext":{"id":"8845f661-5548-599d-8a4e-6a5320066ede","tags":["iOS","Swift","SwiftUI"]}}}